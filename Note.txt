frontend/
â”‚â”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ MapView.jsx
â”‚   â”‚   â”œâ”€â”€ IssueModal.jsx
â”‚   â”‚   â”œâ”€â”€ IssuePopup.jsx
â”‚   â”‚   â”œâ”€â”€ MapClickHandler.jsx
â”‚   â”‚   â”œâ”€â”€ StatusBadgeIcon.jsx
â”‚   â”‚   â”œâ”€â”€ Navbar.jsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Login.jsx
â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
â”‚   â”‚   â”œâ”€â”€ Admin.jsx
â”‚   â”œâ”€â”€ services/api.js
â”‚   â”œâ”€â”€ App.jsx
â”‚â”€â”€ tailwind.config.js

backend/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ issue.py
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ issues.py
â”‚   â”‚   â”œâ”€â”€ IssueImages.py
â”‚   â”‚   â”œâ”€â”€ users.py
â”‚   â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ jwt.py
â”‚   â”‚   â”œâ”€â”€ gps.py
â”‚   â”‚   â”œâ”€â”€ image_exif.py
â”‚   â”œâ”€â”€ dependencies
â”‚   â”œ      â”œâ”€â”€ admin.py
â”‚   â”œ      â”œâ”€â”€ auth.py
â”‚   â”œâ”€â”€ schemas
â”‚   |      â”œâ”€â”€ issue.py
â”‚   â”œâ”€â”€ uploads
â”‚   |      â”œâ”€â”€ issues
â”‚   â”œâ”€â”€ utils
â”‚          â”œâ”€â”€ constants.py
â”‚          â”œâ”€â”€ distance.py
â”‚          â”œâ”€â”€ exif.py
â”‚          â”œâ”€â”€ geo.py
â”‚          â”œâ”€â”€ jwt.py
â”‚          â”œâ”€â”€ security.py
â”‚â”€â”€ database.py
â”‚â”€â”€ main.py
â”‚â”€â”€ requirements.txt




















PHASE 2 â€” CORE MAP INTELLIGENCE (STARTING NOW)
ğŸ”¹ 2.1 Live User Location Tracking

Goal: User location updates every few seconds

Use navigator.geolocation.watchPosition

Store in frontend state only (for now)

Marker updates smoothly

ğŸ“ Affects:

MapView.jsx

ğŸ”¹ 2.2 Route Awareness (Travel Detection)

Goal: If user is traveling, issues along route get detected

Concept (important):

User Location A â†’ Location B
â†“
Create a route polyline
â†“
Check issues within X meters of route
â†“
Notify user


ğŸ“ Backend:

utils/distance.py

New helper: is_point_near_route()

ğŸ“ Frontend:

Draw route polyline (later)

Fetch /issues/along-route

âš ï¸ We will NOT do Google Directions API yet â€” open-source first.

ğŸ”” 2.3 Smart Notifications (Nearby Issues)

Goal: Notify when user comes near an issue

Rules:

Only notify once per issue

Distance threshold (e.g. 200m)

Do NOT spam

ğŸ“ Frontend:

MapView.jsx

New: useNearbyIssues.js (later)

ğŸ” PHASE 3 â€” SEARCH & NAVIGATION
ğŸ”¹ 3.1 Location Search Bar

Like Google Maps search.

Options:

OpenStreetMap Nominatim API (FREE)

Search â†’ lat/lng â†’ pan map

ğŸ“ Frontend:

Navbar.jsx (Search input)

MapView.jsx (map.flyTo)

ğŸ”¹ 3.2 Issue Filters

By type

By status

By distance

ğŸ“ Frontend:

Sidebar / Drawer UI

Reuse StatusBadgeIcon.jsx

ğŸ‘¤ PHASE 4 â€” PROFILE & REPUTATION
ğŸ”¹ 4.1 Profile Button

Issues reported

Issues validated

Reputation score

ğŸ“ Backend:

/users/me

reputation logic

ğŸ“ Frontend:

Navbar â†’ Profile dropdown

ğŸ”¹ 4.2 Reputation Logic

Example:

+5 for valid issue

+1 for validation

âˆ’10 for rejected/fake

(This already matches your validate flow idea)

ğŸ§¾ PHASE 5 â€” ISSUE DRAWER (UX POLISH)

Replace popup with side drawer:

Images

Validations

Status

Validate button (disabled for owner)

ğŸ“ Frontend:

Replace IssuePopup.jsx usage

Drawer component

ğŸ”¥ IMPORTANT: HOW WE WILL WORK (NO CHAOS)

âœ… One feature at a time

âœ… I modify only required files

âœ… I explain why, not just what

âŒ No sudden refactors

âŒ No â€œtrust me broâ€ code

â–¶ï¸ NEXT STEP (START NOW)

We start PHASE 2.1:

ğŸ‘‰ Live location tracking (moving user marker)

Reply with just:

START PHASE 2.1


Iâ€™ll then:

Modify only MapView.jsx

Add live tracking cleanly

No UI break

No auth issues